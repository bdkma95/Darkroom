<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Connect Wallet</title>
</head>
<body>
    <button id="connect-wallet-button">Connect Wallet</button>

    <script src="https://cdn.jsdelivr.net/npm/ethers/dist/ethers.min.js"></script>
    <script>
        if (typeof window.ethereum !== 'undefined') {
            console.log('MetaMask is installed!');

            const connectWalletButton = document.getElementById('connect-wallet-button');

            async function connectWallet() {
                try {
                    await window.ethereum.request({ method: 'eth_requestAccounts' });

                    const provider = new ethers.providers.Web3Provider(window.ethereum);
                    const signer = provider.getSigner();
                    const userAddress = await signer.getAddress();

                    connectWalletButton.textContent = userAddress;

                    window.ethereum.on('accountsChanged', function (accounts) {
                        connectWalletButton.textContent = accounts[0] || 'Connect Wallet';
                    });

                } catch (error) {
                    console.error('Error connecting to wallet:', error);
                }
            }

            connectWalletButton.addEventListener('click', connectWallet);
        } else {
            console.error('MetaMask is not installed. Please install MetaMask to use this feature.');
            document.getElementById('connect-wallet-button').textContent = 'MetaMask Not Installed';
        }
    </script>
</body>
</html>
